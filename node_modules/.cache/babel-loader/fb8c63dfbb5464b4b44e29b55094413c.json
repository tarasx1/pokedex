{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/taras/IT/react-kak-prosto/projects/task2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/taras/IT/react-kak-prosto/projects/task2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"C:/Users/taras/IT/react-kak-prosto/projects/task2/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"C:/Users/taras/IT/react-kak-prosto/projects/task2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{API}from'../api/api';var initialState={pokemons:[],types:[],activeType:null};var pokemonReducer=function pokemonReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case'GET_POKEMON':{return _objectSpread(_objectSpread({},state),{},{pokemons:_toConsumableArray(action.pokemons)});}case'SELECTED_POKEMON':{return _objectSpread(_objectSpread({},state),{},{types:[action.pokemonTypes]});}case'SET_ACTIVE_TYPE':{return _objectSpread(_objectSpread({},state),{},{activeType:action.activeType});}default:return state;}};export var getPokemonActionCreator=function getPokemonActionCreator(pokemons){return{type:'GET_POKEMON',pokemons:pokemons};};export var selectedPokemonActionCreator=function selectedPokemonActionCreator(pokemonTypes){return{type:'SELECTED_POKEMON',pokemonTypes:pokemonTypes};};export var setActiveType=function setActiveType(activeType){return{type:'SET_ACTIVE_TYPE',activeType:activeType};};export var getPokemonThunk=function getPokemonThunk(pokemon){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var data,pokemons;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return API.getPokemon(pokemon);case 2:data=_context.sent;pokemons=data.map(function(pokemon){return pokemon.data;});dispatch(getPokemonActionCreator(pokemons));case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getPokemonTypes=function getPokemonTypes(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return API.getTypes();case 2:data=_context2.sent;dispatch(selectedPokemonActionCreator(data.results));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};// export const getAllTypes = () => {\n//   return async (dispatch, getState) => {\n//     let response = await pokemonsAPI.getTypes();\n//     dispatch(setAllTypes(response.results));\n//   };\n// };\nexport default pokemonReducer;","map":{"version":3,"names":["API","initialState","pokemons","types","activeType","pokemonReducer","state","action","type","pokemonTypes","getPokemonActionCreator","selectedPokemonActionCreator","setActiveType","getPokemonThunk","pokemon","dispatch","getPokemon","data","map","getPokemonTypes","getTypes","results"],"sources":["C:/Users/taras/IT/react-kak-prosto/projects/task2/src/redux/pokemonReducer.js"],"sourcesContent":["import { API } from '../api/api';\r\n\r\nlet initialState = {\r\n  pokemons: [],\r\n  types: [],\r\n  activeType: null,\r\n};\r\n\r\nconst pokemonReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'GET_POKEMON': {\r\n      return { ...state, pokemons: [...action.pokemons] };\r\n    }\r\n    case 'SELECTED_POKEMON': {\r\n      return {\r\n        ...state,\r\n        types: [action.pokemonTypes],\r\n      };\r\n    }\r\n    case 'SET_ACTIVE_TYPE': {\r\n      return {\r\n        ...state,\r\n        activeType: action.activeType,\r\n      };\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const getPokemonActionCreator = (pokemons) => ({\r\n  type: 'GET_POKEMON',\r\n  pokemons,\r\n});\r\nexport const selectedPokemonActionCreator = (pokemonTypes) => ({\r\n  type: 'SELECTED_POKEMON',\r\n  pokemonTypes,\r\n});\r\n\r\nexport const setActiveType = (activeType) => ({\r\n  type: 'SET_ACTIVE_TYPE',\r\n  activeType,\r\n});\r\nexport const getPokemonThunk = (pokemon) => async (dispatch) => {\r\n  let data = await API.getPokemon(pokemon);\r\n  let pokemons = data.map((pokemon) => pokemon.data);\r\n  dispatch(getPokemonActionCreator(pokemons));\r\n};\r\n\r\nexport const getPokemonTypes = () => async (dispatch) => {\r\n  let data = await API.getTypes();\r\n  dispatch(selectedPokemonActionCreator(data.results));\r\n};\r\n\r\n// export const getAllTypes = () => {\r\n//   return async (dispatch, getState) => {\r\n//     let response = await pokemonsAPI.getTypes();\r\n//     dispatch(setAllTypes(response.results));\r\n//   };\r\n// };\r\n\r\nexport default pokemonReducer;\r\n"],"mappings":"mjBAAA,OAASA,GAAG,KAAQ,YAAY,CAEhC,GAAIC,aAAY,CAAG,CACjBC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTC,UAAU,CAAE,IACd,CAAC,CAED,GAAMC,eAAc,CAAG,QAAjBA,eAAc,EAAqC,IAAjCC,MAAK,2DAAGL,YAAY,IAAEM,OAAM,2CAClD,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,aAAa,CAAE,CAClB,sCAAYF,KAAK,MAAEJ,QAAQ,oBAAMK,MAAM,CAACL,QAAQ,CAAC,GACnD,CACA,IAAK,kBAAkB,CAAE,CACvB,sCACKI,KAAK,MACRH,KAAK,CAAE,CAACI,MAAM,CAACE,YAAY,CAAC,GAEhC,CACA,IAAK,iBAAiB,CAAE,CACtB,sCACKH,KAAK,MACRF,UAAU,CAAEG,MAAM,CAACH,UAAU,GAEjC,CACA,QACE,MAAOE,MAAK,CAAC,CAEnB,CAAC,CAED,MAAO,IAAMI,wBAAuB,CAAG,QAA1BA,wBAAuB,CAAIR,QAAQ,QAAM,CACpDM,IAAI,CAAE,aAAa,CACnBN,QAAQ,CAARA,QACF,CAAC,EAAC,CACF,MAAO,IAAMS,6BAA4B,CAAG,QAA/BA,6BAA4B,CAAIF,YAAY,QAAM,CAC7DD,IAAI,CAAE,kBAAkB,CACxBC,YAAY,CAAZA,YACF,CAAC,EAAC,CAEF,MAAO,IAAMG,cAAa,CAAG,QAAhBA,cAAa,CAAIR,UAAU,QAAM,CAC5CI,IAAI,CAAE,iBAAiB,CACvBJ,UAAU,CAAVA,UACF,CAAC,EAAC,CACF,MAAO,IAAMS,gBAAe,CAAG,QAAlBA,gBAAe,CAAIC,OAAO,mGAAK,iBAAOC,QAAQ,4JACxCf,IAAG,CAACgB,UAAU,CAACF,OAAO,CAAC,QAApCG,IAAI,eACJf,QAAQ,CAAGe,IAAI,CAACC,GAAG,CAAC,SAACJ,OAAO,QAAKA,QAAO,CAACG,IAAI,GAAC,CAClDF,QAAQ,CAACL,uBAAuB,CAACR,QAAQ,CAAC,CAAC,CAAC,sDAC7C,iEAED,MAAO,IAAMiB,gBAAe,CAAG,QAAlBA,gBAAe,qGAAS,kBAAOJ,QAAQ,wJACjCf,IAAG,CAACoB,QAAQ,EAAE,QAA3BH,IAAI,gBACRF,QAAQ,CAACJ,4BAA4B,CAACM,IAAI,CAACI,OAAO,CAAC,CAAC,CAAC,wDACtD,mEAED;AACA;AACA;AACA;AACA;AACA;AAEA,cAAehB,eAAc"},"metadata":{},"sourceType":"module"}